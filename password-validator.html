<script type="text/x-red" data-template-name="password-validator">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> Property</label>
        <input type="text" id="node-input-property" placeholder="payload" style="width:calc(70% - 1px)">
    </div>
    <div class="form-row">
        <label for="node-input-digits"><i class="fa fa-cog"></i> digits</label>
        <input type="text" id="node-input-digits" style="width: 30%" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-letters"><i class="fa fa-cog"></i> letters</label>
        <input type="text" id="node-input-letters" style="width: 30%" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-lowercase"><i class="fa fa-cog"></i> lowercase</label>
        <input type="text" id="node-input-lowercase" style="width: 30%" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-uppercase"><i class="fa fa-cog"></i> uppercase</label>
        <input type="text" id="node-input-uppercase" style="width: 30%" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-symbols"><i class="fa fa-cog"></i> symbols</label>
        <input type="text" id="node-input-symbols" style="width: 30%" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-spaces"><i class="fa fa-cog"></i> spaces</label>
        <input type="text" id="node-input-spaces" style="width: 30%" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-min"><i class="fa fa-cog"></i> min</label>
        <input type="text" id="node-input-min" style="width: 30%" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-max"><i class="fa fa-cog"></i> max</label>
        <input type="text" id="node-input-max" style="width: 30%" placeholder="">
    </div>


</script>

<script type="text/x-red" data-help-name="password-validator">
  <p>Provides a node-red node for password validation; checks that a password meets your defined requirements.</p>
  <p><strong>node_inputs</strong><br>Send a message string with the value you want to validate</p>
  <p><strong>node_outputs</strong><br>Outputs a message object with the value of your input and if it is valid. If not valid will also list an array of the failed checks </p>
  <br>
  <p><strong>Name:</strong><br>Define the msg name if you wish to change the name displayed on the node.</p>
  <p><strong>Property:</strong><br>Define the msg property name you wish. The name you select (msg.example) will be the output property.</p>

  <p><strong>digits:</strong><br>The number of digits, as an integer, the message string must contain to be valid.<br><u>Example:</u> A value of 2 requires that the message has two integers in its string to be valid. A value of 0 requires that the message has no integers in its string to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as many or none in the message string as you want</p>
  <p><strong>letters:</strong><br>The number of letters, as an integer, the message string must contain to be valid.<br><u>Example:</u> A value of 2 requires that the message has two integers in its string to be valid. A value of 0 requires that the message has no integers in its string to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as many or none in the message string as you want</p>
  <p><strong>lowercase:</strong><br>The number of lowercase, as an integer, the message string must contain to be valid.<br><u>Example:</u> A value of 2 requires that the message has two integers in its string to be valid. A value of 0 requires that the message has no integers in its string to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as many or none in the message string as you want</p>
  <p><strong>uppercase:</strong><br>The number of uppercase, as an integer, the message string must contain to be valid.<br><u>Example:</u> A value of 2 requires that the message has two integers in its string to be valid. A value of 0 requires that the message has no integers in its string to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as many or none in the message string as you want</p>
  <p><strong>symbols:</strong><br>The number of symbols, as an integer, the message string must contain to be valid.<br><u>Example:</u> A value of 2 requires that the message has two integers in its string to be valid. A value of 0 requires that the message has no integers in its string to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as many or none in the message string as you want</p>
  <p><strong>spaces:</strong><br>The number of spaces, as an integer, the message string must contain to be valid.<br><u>Example:</u> A value of 2 requires that the message has two integers in its string to be valid. A value of 0 requires that the message has no integers in its string to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as many or none in the message string as you want</p>
  <p><strong>min:</strong><br>The minimum length of the string, as an integer, the message string length must be to be valid.<br><u>Example:</u> A value of 8 requires that the message length must be at least 8 to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as short of a message string as you want</p>
  <p><strong>max:</strong><br>The maximum length of the string, as an integer, the message string length must be to be valid.<br><u>Example:</u> A value of 10 requires that the message cant be any longer than 10 to be valid. Leaving the field empty/blank will ignore the validation check, so you can have as long of a message string as you want</p>




  <p><a href="https://github.com/SenseTecnic/node-red-contrib-users#node-red-contrib-users" target="_blank">More details Here</a></p>
</script>



<script type="text/javascript">
    RED.nodes.registerType('password-validator',{
        category: 'function',
        color: "#00abb0",
        defaults: {
            property: {value:"payload",required:true},
            name: {value:""},
            digits: {value:false},
            letters: {value:false},
            lowercase: {value:false},
            uppercase: {value:false},
            symbols: {value:false},
            spaces: {value:false},
            min: {value:false},
            max: {value:false}
        },
        paletteLabel: 'password-validator',
        inputs:1,
        outputs:1,
        icon: "password-validator.png",
        label: function() {
            return this.name||"password-validator";
        },
        oneditprepare: function() {
            // defaults
            if (this.property === undefined)
            {
                $("#node-input-property").val("payload");
            }
            $("#node-input-property").typedInput({default:'msg',types:['msg']});

        }
    });
</script>
